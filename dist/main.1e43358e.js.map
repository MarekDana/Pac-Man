{"version":3,"sources":["src/scenes/MenuScene.js","node_modules/easystarjs/src/instance.js","node_modules/easystarjs/src/node.js","node_modules/heap/lib/heap.js","node_modules/heap/index.js","node_modules/easystarjs/src/easystar.js","src/scenes/PlayScene.js","src/scenes/PlayScene2.js","src/scenes/PauseScene.js","src/scenes/LeaderBoardScene.js","src/main.js","node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["background","playbutton","title","Menu","buttonClick","leaderboardbutton","playerName","MenuScene","key","active","data","load","image","add","setInteractive","on","pointer","prompt","length","alert","localStorage","setItem","scene","start","Phaser","Scene","keys","PacMan","RedGhost","GreenGhost","PurpleGhost","GreyGhost","CoinLayer","BonusLayer","coins","bonus","coinScore","level","topLayer","map","terrain","bonusF","text","esc","resume","temp","temp2","lives","Srdce1","Srdce2","Srdce3","timedEvent","scoreField","spawn","toX","toY","fromX","fromY","finder","grid","PlayScene","tilemapTiledJSON","getTileID","x","y","tile","getTileAt","index","collectCoin","coin","destroy","setText","getItem","collectBonus","setTexture","time","delayedCall","waitEvent","damageR","setVelocityX","setVelocityY","respawnEvent","test","damageG","damageP","respawnEvent1","timedEvent1","damageGrey","respawnEvent2","timedEvent2","input","keyboard","addKeys","addKey","Input","Keyboard","KeyCodes","ESC","tilemap","addTilesetImage","createStaticLayer","setDepth","getObjectLayer","physics","staticGroup","forEach","object","obj","create","setScale","body","width","height","setCollisionByProperty","collide","collider","setCollideWorldBounds","overlap","easystarjs","require","easystar","js","col","push","setGrid","tileset","tilesets","properties","tileProperties","acceptableTiles","i","firstgid","hasOwnProperty","setAcceptableTiles","fontSize","fill","setScrollFactor","text2","visible","loseEvent","testObject","JSON","parse","scoreObject","score","undefined","j","tmp","stringify","stop","launch","text3","spawn1Event","spawn2Event","spawn3Event","winEvent","Math","floor","findPath","path","calculate","W","isDown","S","A","D","angle","JustDown","pause","health","botLayer","PlayScene2","damageO","resumebutton","menubutton","PauseScene","backsbutton","back","scoreText","nameText","LeaderBoardScene","myCustomCanvas","document","createElement","id","appendChild","game","Game","type","AUTO","canvas","getElementById","audio","disableWebAudio","render","pixelArt","default","arcade","fps","gravity","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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G,CAAP;AACH;AAGJ;;;;EAjG0BqB,MAAM,CAACC;;;;ACXtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvXA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"main.1e43358e.js","sourceRoot":"..","sourcesContent":["// inicializace promennych (kdyz se inicializuji v create, tak to nefunguje)\r\nvar background;\r\nvar playbutton;\r\nvar title;\r\nvar Menu = -1;\r\nvar buttonClick;\r\nvar leaderboardbutton;\r\nvar playerName;\r\n\r\n\r\n// trida scena, rozsiruje PhaserScene a musi se exportovat\r\nexport class MenuScene extends Phaser.Scene {\r\n    constructor() {\r\n        super({\r\n            key: \"MenuScene\", active: true,  // vstupni data\r\n        })\r\n    }\r\n    init(data) {\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    preload() { // funkce ve ktere se nactou obrazky a zvuky ze souboru assets pro vsechny sceny\r\n\r\n        this.load.image(\"title\", \"./assets/title.png\");\r\n        this.load.image(\"menuBackground\", \"./assets/MenuBackground.jpg\");\r\n        this.load.image(\"menu\", \"./assets/Menu.png\")\r\n        this.load.image(\"resume\", \"./assets/Resume.png\")\r\n\r\n        this.load.image(\"play\", \"./assets/Play.png\");\r\n        this.load.image(\"leaderboard\", \"./assets/Leaderboard.png\");\r\n\r\n        this.load.image(\"nextLevel\", \"./assets/nextlevel.png\");\r\n\r\n\r\n        this.load.image(\"PacMan\", \"./assets/PacMan.png\")\r\n        this.load.image(\"PacMan2\", \"./assets/PacMan2.png\")\r\n        this.load.image(\"RedGhost\", \"./assets/RedGhost.png\")\r\n        this.load.image(\"GreenGhost\", \"./assets/GreenGhost.png\")\r\n        this.load.image(\"PurpleGhost\", \"./assets/PurpleGhost.png\")\r\n        this.load.image(\"GreyGhost\", \"./assets/GreyGhost.png\")\r\n        this.load.image(\"BlackGhost\", \"./assets/BlackGhost.png\")\r\n        this.load.image(\"Srdce\", \"./assets/Srdce2.png\")\r\n        this.load.image(\"coin\", \"assets/Point.png\");\r\n        this.load.image(\"bonus\", \"assets/BonusPoint.png\");\r\n\r\n\r\n\r\n\r\n\r\n       \r\n    }\r\n\r\n    create() {\r\n\r\n        // souradnice x, y  a nazev obrazku, co se do toho da\r\n        title = this.add.image(640, 100, 'title');\r\n        playbutton = this.add.image(640, 250, 'play');\r\n        leaderboardbutton = this.add.image(640, 320, 'leaderboard');\r\n\r\n\r\n\r\n        playbutton.setInteractive();\r\n        leaderboardbutton.setInteractive();\r\n\r\n\r\n        playbutton.on('pointerdown', function (pointer) {\r\n            Menu = 1;\r\n\r\n            playerName = prompt(\"Please enter your nickname\", \"Pacman\");\r\n            if (playerName === null) {\r\n                playerName = \"Pacman\";\r\n            }\r\n            else {\r\n                while (playerName.length > 20) {\r\n                    alert('Please enter a shorter name');\r\n\r\n                    playerName = prompt(\"Please enter your nickname\", \"Pacman\");\r\n                }\r\n                localStorage.setItem(\"playerName\", playerName);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        leaderboardbutton.on('pointerup', function (pointer) {\r\n            Menu = 2;\r\n        \r\n        });\r\n\r\n    }\r\n\r\n    update() { \r\n\r\n        if (Menu === 1) {\r\n            this.scene.start(\"PlayScene\" )\r\n            Menu = 0;\r\n        }\r\n\r\n\r\n        if (Menu === 2) {\r\n            this.scene.start(\"LeaderBoardScene\") \r\n            Menu = 0;\r\n        }\r\n\r\n\r\n    }\r\n}","/**\n * Represents a single instance of EasyStar.\n * A path that is in the queue to eventually be found.\n */\nmodule.exports = function() {\n    this.pointsToAvoid = {};\n    this.startX;\n    this.callback;\n    this.startY;\n    this.endX;\n    this.endY;\n    this.nodeHash = {};\n    this.openList;\n};","/**\n* A simple Node that represents a single tile on the grid.\n* @param {Object} parent The parent node.\n* @param {Number} x The x position on the grid.\n* @param {Number} y The y position on the grid.\n* @param {Number} costSoFar How far this node is in moves*cost from the start.\n* @param {Number} simpleDistanceToTarget Manhatten distance to the end point.\n**/\nmodule.exports = function(parent, x, y, costSoFar, simpleDistanceToTarget) {\n    this.parent = parent;\n    this.x = x;\n    this.y = y;\n    this.costSoFar = costSoFar;\n    this.simpleDistanceToTarget = simpleDistanceToTarget;\n\n    /**\n    * @return {Number} Best guess distance of a cost using this node.\n    **/\n    this.bestGuessDistance = function() {\n        return this.costSoFar + this.simpleDistanceToTarget;\n    }\n};","// Generated by CoffeeScript 1.8.0\n(function() {\n  var Heap, defaultCmp, floor, heapify, heappop, heappush, heappushpop, heapreplace, insort, min, nlargest, nsmallest, updateItem, _siftdown, _siftup;\n\n  floor = Math.floor, min = Math.min;\n\n\n  /*\n  Default comparison function to be used\n   */\n\n  defaultCmp = function(x, y) {\n    if (x < y) {\n      return -1;\n    }\n    if (x > y) {\n      return 1;\n    }\n    return 0;\n  };\n\n\n  /*\n  Insert item x in list a, and keep it sorted assuming a is sorted.\n  \n  If x is already in a, insert it to the right of the rightmost x.\n  \n  Optional args lo (default 0) and hi (default a.length) bound the slice\n  of a to be searched.\n   */\n\n  insort = function(a, x, lo, hi, cmp) {\n    var mid;\n    if (lo == null) {\n      lo = 0;\n    }\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (lo < 0) {\n      throw new Error('lo must be non-negative');\n    }\n    if (hi == null) {\n      hi = a.length;\n    }\n    while (lo < hi) {\n      mid = floor((lo + hi) / 2);\n      if (cmp(x, a[mid]) < 0) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    return ([].splice.apply(a, [lo, lo - lo].concat(x)), x);\n  };\n\n\n  /*\n  Push item onto heap, maintaining the heap invariant.\n   */\n\n  heappush = function(array, item, cmp) {\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    array.push(item);\n    return _siftdown(array, 0, array.length - 1, cmp);\n  };\n\n\n  /*\n  Pop the smallest item off the heap, maintaining the heap invariant.\n   */\n\n  heappop = function(array, cmp) {\n    var lastelt, returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    lastelt = array.pop();\n    if (array.length) {\n      returnitem = array[0];\n      array[0] = lastelt;\n      _siftup(array, 0, cmp);\n    } else {\n      returnitem = lastelt;\n    }\n    return returnitem;\n  };\n\n\n  /*\n  Pop and return the current smallest value, and add the new item.\n  \n  This is more efficient than heappop() followed by heappush(), and can be\n  more appropriate when using a fixed size heap. Note that the value\n  returned may be larger than item! That constrains reasonable use of\n  this routine unless written as part of a conditional replacement:\n      if item > array[0]\n        item = heapreplace(array, item)\n   */\n\n  heapreplace = function(array, item, cmp) {\n    var returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    returnitem = array[0];\n    array[0] = item;\n    _siftup(array, 0, cmp);\n    return returnitem;\n  };\n\n\n  /*\n  Fast version of a heappush followed by a heappop.\n   */\n\n  heappushpop = function(array, item, cmp) {\n    var _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (array.length && cmp(array[0], item) < 0) {\n      _ref = [array[0], item], item = _ref[0], array[0] = _ref[1];\n      _siftup(array, 0, cmp);\n    }\n    return item;\n  };\n\n\n  /*\n  Transform list into a heap, in-place, in O(array.length) time.\n   */\n\n  heapify = function(array, cmp) {\n    var i, _i, _j, _len, _ref, _ref1, _results, _results1;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    _ref1 = (function() {\n      _results1 = [];\n      for (var _j = 0, _ref = floor(array.length / 2); 0 <= _ref ? _j < _ref : _j > _ref; 0 <= _ref ? _j++ : _j--){ _results1.push(_j); }\n      return _results1;\n    }).apply(this).reverse();\n    _results = [];\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      i = _ref1[_i];\n      _results.push(_siftup(array, i, cmp));\n    }\n    return _results;\n  };\n\n\n  /*\n  Update the position of the given item in the heap.\n  This function should be called every time the item is being modified.\n   */\n\n  updateItem = function(array, item, cmp) {\n    var pos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    pos = array.indexOf(item);\n    if (pos === -1) {\n      return;\n    }\n    _siftdown(array, 0, pos, cmp);\n    return _siftup(array, pos, cmp);\n  };\n\n\n  /*\n  Find the n largest elements in a dataset.\n   */\n\n  nlargest = function(array, n, cmp) {\n    var elem, result, _i, _len, _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    result = array.slice(0, n);\n    if (!result.length) {\n      return result;\n    }\n    heapify(result, cmp);\n    _ref = array.slice(n);\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      elem = _ref[_i];\n      heappushpop(result, elem, cmp);\n    }\n    return result.sort(cmp).reverse();\n  };\n\n\n  /*\n  Find the n smallest elements in a dataset.\n   */\n\n  nsmallest = function(array, n, cmp) {\n    var elem, i, los, result, _i, _j, _len, _ref, _ref1, _results;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (n * 10 <= array.length) {\n      result = array.slice(0, n).sort(cmp);\n      if (!result.length) {\n        return result;\n      }\n      los = result[result.length - 1];\n      _ref = array.slice(n);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elem = _ref[_i];\n        if (cmp(elem, los) < 0) {\n          insort(result, elem, 0, null, cmp);\n          result.pop();\n          los = result[result.length - 1];\n        }\n      }\n      return result;\n    }\n    heapify(array, cmp);\n    _results = [];\n    for (i = _j = 0, _ref1 = min(n, array.length); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\n      _results.push(heappop(array, cmp));\n    }\n    return _results;\n  };\n\n  _siftdown = function(array, startpos, pos, cmp) {\n    var newitem, parent, parentpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    newitem = array[pos];\n    while (pos > startpos) {\n      parentpos = (pos - 1) >> 1;\n      parent = array[parentpos];\n      if (cmp(newitem, parent) < 0) {\n        array[pos] = parent;\n        pos = parentpos;\n        continue;\n      }\n      break;\n    }\n    return array[pos] = newitem;\n  };\n\n  _siftup = function(array, pos, cmp) {\n    var childpos, endpos, newitem, rightpos, startpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    endpos = array.length;\n    startpos = pos;\n    newitem = array[pos];\n    childpos = 2 * pos + 1;\n    while (childpos < endpos) {\n      rightpos = childpos + 1;\n      if (rightpos < endpos && !(cmp(array[childpos], array[rightpos]) < 0)) {\n        childpos = rightpos;\n      }\n      array[pos] = array[childpos];\n      pos = childpos;\n      childpos = 2 * pos + 1;\n    }\n    array[pos] = newitem;\n    return _siftdown(array, startpos, pos, cmp);\n  };\n\n  Heap = (function() {\n    Heap.push = heappush;\n\n    Heap.pop = heappop;\n\n    Heap.replace = heapreplace;\n\n    Heap.pushpop = heappushpop;\n\n    Heap.heapify = heapify;\n\n    Heap.updateItem = updateItem;\n\n    Heap.nlargest = nlargest;\n\n    Heap.nsmallest = nsmallest;\n\n    function Heap(cmp) {\n      this.cmp = cmp != null ? cmp : defaultCmp;\n      this.nodes = [];\n    }\n\n    Heap.prototype.push = function(x) {\n      return heappush(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pop = function() {\n      return heappop(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.peek = function() {\n      return this.nodes[0];\n    };\n\n    Heap.prototype.contains = function(x) {\n      return this.nodes.indexOf(x) !== -1;\n    };\n\n    Heap.prototype.replace = function(x) {\n      return heapreplace(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pushpop = function(x) {\n      return heappushpop(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.heapify = function() {\n      return heapify(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.updateItem = function(x) {\n      return updateItem(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.clear = function() {\n      return this.nodes = [];\n    };\n\n    Heap.prototype.empty = function() {\n      return this.nodes.length === 0;\n    };\n\n    Heap.prototype.size = function() {\n      return this.nodes.length;\n    };\n\n    Heap.prototype.clone = function() {\n      var heap;\n      heap = new Heap();\n      heap.nodes = this.nodes.slice(0);\n      return heap;\n    };\n\n    Heap.prototype.toArray = function() {\n      return this.nodes.slice(0);\n    };\n\n    Heap.prototype.insert = Heap.prototype.push;\n\n    Heap.prototype.top = Heap.prototype.peek;\n\n    Heap.prototype.front = Heap.prototype.peek;\n\n    Heap.prototype.has = Heap.prototype.contains;\n\n    Heap.prototype.copy = Heap.prototype.clone;\n\n    return Heap;\n\n  })();\n\n  (function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n      return define([], factory);\n    } else if (typeof exports === 'object') {\n      return module.exports = factory();\n    } else {\n      return root.Heap = factory();\n    }\n  })(this, function() {\n    return Heap;\n  });\n\n}).call(this);\n","module.exports = require('./lib/heap');\n","/**\n*   EasyStar.js\n*   github.com/prettymuchbryce/EasyStarJS\n*   Licensed under the MIT license.\n*\n*   Implementation By Bryce Neal (@prettymuchbryce)\n**/\n\nvar EasyStar = {}\nvar Instance = require('./instance');\nvar Node = require('./node');\nvar Heap = require('heap');\n\nconst CLOSED_LIST = 0;\nconst OPEN_LIST = 1;\n\nmodule.exports = EasyStar;\n\nvar nextInstanceId = 1;\n\nEasyStar.js = function() {\n    var STRAIGHT_COST = 1.0;\n    var DIAGONAL_COST = 1.4;\n    var syncEnabled = false;\n    var pointsToAvoid = {};\n    var collisionGrid;\n    var costMap = {};\n    var pointsToCost = {};\n    var directionalConditions = {};\n    var allowCornerCutting = true;\n    var iterationsSoFar;\n    var instances = {};\n    var instanceQueue = [];\n    var iterationsPerCalculation = Number.MAX_VALUE;\n    var acceptableTiles;\n    var diagonalsEnabled = false;\n\n    /**\n    * Sets the collision grid that EasyStar uses.\n    *\n    * @param {Array|Number} tiles An array of numbers that represent\n    * which tiles in your grid should be considered\n    * acceptable, or \"walkable\".\n    **/\n    this.setAcceptableTiles = function(tiles) {\n        if (tiles instanceof Array) {\n            // Array\n            acceptableTiles = tiles;\n        } else if (!isNaN(parseFloat(tiles)) && isFinite(tiles)) {\n            // Number\n            acceptableTiles = [tiles];\n        }\n    };\n\n    /**\n    * Enables sync mode for this EasyStar instance..\n    * if you're into that sort of thing.\n    **/\n    this.enableSync = function() {\n        syncEnabled = true;\n    };\n\n    /**\n    * Disables sync mode for this EasyStar instance.\n    **/\n    this.disableSync = function() {\n        syncEnabled = false;\n    };\n\n    /**\n     * Enable diagonal pathfinding.\n     */\n    this.enableDiagonals = function() {\n        diagonalsEnabled = true;\n    }\n\n    /**\n     * Disable diagonal pathfinding.\n     */\n    this.disableDiagonals = function() {\n        diagonalsEnabled = false;\n    }\n\n    /**\n    * Sets the collision grid that EasyStar uses.\n    *\n    * @param {Array} grid The collision grid that this EasyStar instance will read from.\n    * This should be a 2D Array of Numbers.\n    **/\n    this.setGrid = function(grid) {\n        collisionGrid = grid;\n\n        //Setup cost map\n        for (var y = 0; y < collisionGrid.length; y++) {\n            for (var x = 0; x < collisionGrid[0].length; x++) {\n                if (!costMap[collisionGrid[y][x]]) {\n                    costMap[collisionGrid[y][x]] = 1\n                }\n            }\n        }\n    };\n\n    /**\n    * Sets the tile cost for a particular tile type.\n    *\n    * @param {Number} The tile type to set the cost for.\n    * @param {Number} The multiplicative cost associated with the given tile.\n    **/\n    this.setTileCost = function(tileType, cost) {\n        costMap[tileType] = cost;\n    };\n\n    /**\n    * Sets the an additional cost for a particular point.\n    * Overrides the cost from setTileCost.\n    *\n    * @param {Number} x The x value of the point to cost.\n    * @param {Number} y The y value of the point to cost.\n    * @param {Number} The multiplicative cost associated with the given point.\n    **/\n    this.setAdditionalPointCost = function(x, y, cost) {\n        if (pointsToCost[y] === undefined) {\n            pointsToCost[y] = {};\n        }\n        pointsToCost[y][x] = cost;\n    };\n\n    /**\n    * Remove the additional cost for a particular point.\n    *\n    * @param {Number} x The x value of the point to stop costing.\n    * @param {Number} y The y value of the point to stop costing.\n    **/\n    this.removeAdditionalPointCost = function(x, y) {\n        if (pointsToCost[y] !== undefined) {\n            delete pointsToCost[y][x];\n        }\n    }\n\n    /**\n    * Remove all additional point costs.\n    **/\n    this.removeAllAdditionalPointCosts = function() {\n        pointsToCost = {};\n    }\n\n    /**\n    * Sets a directional condition on a tile\n    *\n    * @param {Number} x The x value of the point.\n    * @param {Number} y The y value of the point.\n    * @param {Array.<String>} allowedDirections A list of all the allowed directions that can access\n    * the tile.\n    **/\n    this.setDirectionalCondition = function(x, y, allowedDirections) {\n        if (directionalConditions[y] === undefined) {\n            directionalConditions[y] = {};\n        }\n        directionalConditions[y][x] = allowedDirections;\n    };\n\n    /**\n    * Remove all directional conditions\n    **/\n    this.removeAllDirectionalConditions = function() {\n        directionalConditions = {};\n    };\n\n    /**\n    * Sets the number of search iterations per calculation.\n    * A lower number provides a slower result, but more practical if you\n    * have a large tile-map and don't want to block your thread while\n    * finding a path.\n    *\n    * @param {Number} iterations The number of searches to prefrom per calculate() call.\n    **/\n    this.setIterationsPerCalculation = function(iterations) {\n        iterationsPerCalculation = iterations;\n    };\n\n    /**\n    * Avoid a particular point on the grid,\n    * regardless of whether or not it is an acceptable tile.\n    *\n    * @param {Number} x The x value of the point to avoid.\n    * @param {Number} y The y value of the point to avoid.\n    **/\n    this.avoidAdditionalPoint = function(x, y) {\n        if (pointsToAvoid[y] === undefined) {\n            pointsToAvoid[y] = {};\n        }\n        pointsToAvoid[y][x] = 1;\n    };\n\n    /**\n    * Stop avoiding a particular point on the grid.\n    *\n    * @param {Number} x The x value of the point to stop avoiding.\n    * @param {Number} y The y value of the point to stop avoiding.\n    **/\n    this.stopAvoidingAdditionalPoint = function(x, y) {\n        if (pointsToAvoid[y] !== undefined) {\n            delete pointsToAvoid[y][x];\n        }\n    };\n\n    /**\n    * Enables corner cutting in diagonal movement.\n    **/\n    this.enableCornerCutting = function() {\n        allowCornerCutting = true;\n    };\n\n    /**\n    * Disables corner cutting in diagonal movement.\n    **/\n    this.disableCornerCutting = function() {\n        allowCornerCutting = false;\n    };\n\n    /**\n    * Stop avoiding all additional points on the grid.\n    **/\n    this.stopAvoidingAllAdditionalPoints = function() {\n        pointsToAvoid = {};\n    };\n\n    /**\n    * Find a path.\n    *\n    * @param {Number} startX The X position of the starting point.\n    * @param {Number} startY The Y position of the starting point.\n    * @param {Number} endX The X position of the ending point.\n    * @param {Number} endY The Y position of the ending point.\n    * @param {Function} callback A function that is called when your path\n    * is found, or no path is found.\n    * @return {Number} A numeric, non-zero value which identifies the created instance. This value can be passed to cancelPath to cancel the path calculation.\n    *\n    **/\n    this.findPath = function(startX, startY, endX, endY, callback) {\n        // Wraps the callback for sync vs async logic\n        var callbackWrapper = function(result) {\n            if (syncEnabled) {\n                callback(result);\n            } else {\n                setTimeout(function() {\n                    callback(result);\n                });\n            }\n        }\n\n        // No acceptable tiles were set\n        if (acceptableTiles === undefined) {\n            throw new Error(\"You can't set a path without first calling setAcceptableTiles() on EasyStar.\");\n        }\n        // No grid was set\n        if (collisionGrid === undefined) {\n            throw new Error(\"You can't set a path without first calling setGrid() on EasyStar.\");\n        }\n\n        // Start or endpoint outside of scope.\n        if (startX < 0 || startY < 0 || endX < 0 || endY < 0 ||\n        startX > collisionGrid[0].length-1 || startY > collisionGrid.length-1 ||\n        endX > collisionGrid[0].length-1 || endY > collisionGrid.length-1) {\n            throw new Error(\"Your start or end point is outside the scope of your grid.\");\n        }\n\n        // Start and end are the same tile.\n        if (startX===endX && startY===endY) {\n            callbackWrapper([]);\n            return;\n        }\n\n        // End point is not an acceptable tile.\n        var endTile = collisionGrid[endY][endX];\n        var isAcceptable = false;\n        for (var i = 0; i < acceptableTiles.length; i++) {\n            if (endTile === acceptableTiles[i]) {\n                isAcceptable = true;\n                break;\n            }\n        }\n\n        if (isAcceptable === false) {\n            callbackWrapper(null);\n            return;\n        }\n\n        // Create the instance\n        var instance = new Instance();\n        instance.openList = new Heap(function(nodeA, nodeB) {\n            return nodeA.bestGuessDistance() - nodeB.bestGuessDistance();\n        });\n        instance.isDoneCalculating = false;\n        instance.nodeHash = {};\n        instance.startX = startX;\n        instance.startY = startY;\n        instance.endX = endX;\n        instance.endY = endY;\n        instance.callback = callbackWrapper;\n\n        instance.openList.push(coordinateToNode(instance, instance.startX,\n            instance.startY, null, STRAIGHT_COST));\n\n        var instanceId = nextInstanceId ++;\n        instances[instanceId] = instance;\n        instanceQueue.push(instanceId);\n        return instanceId;\n    };\n\n    /**\n     * Cancel a path calculation.\n     *\n     * @param {Number} instanceId The instance ID of the path being calculated\n     * @return {Boolean} True if an instance was found and cancelled.\n     *\n     **/\n    this.cancelPath = function(instanceId) {\n        if (instanceId in instances) {\n            delete instances[instanceId];\n            // No need to remove it from instanceQueue\n            return true;\n        }\n        return false;\n    };\n\n    /**\n    * This method steps through the A* Algorithm in an attempt to\n    * find your path(s). It will search 4-8 tiles (depending on diagonals) for every calculation.\n    * You can change the number of calculations done in a call by using\n    * easystar.setIteratonsPerCalculation().\n    **/\n    this.calculate = function() {\n        if (instanceQueue.length === 0 || collisionGrid === undefined || acceptableTiles === undefined) {\n            return;\n        }\n        for (iterationsSoFar = 0; iterationsSoFar < iterationsPerCalculation; iterationsSoFar++) {\n            if (instanceQueue.length === 0) {\n                return;\n            }\n\n            if (syncEnabled) {\n                // If this is a sync instance, we want to make sure that it calculates synchronously.\n                iterationsSoFar = 0;\n            }\n\n            var instanceId = instanceQueue[0];\n            var instance = instances[instanceId];\n            if (typeof instance == 'undefined') {\n                // This instance was cancelled\n                instanceQueue.shift();\n                continue;\n            }\n\n            // Couldn't find a path.\n            if (instance.openList.size() === 0) {\n                instance.callback(null);\n                delete instances[instanceId];\n                instanceQueue.shift();\n                continue;\n            }\n\n            var searchNode = instance.openList.pop();\n\n            // Handles the case where we have found the destination\n            if (instance.endX === searchNode.x && instance.endY === searchNode.y) {\n                var path = [];\n                path.push({x: searchNode.x, y: searchNode.y});\n                var parent = searchNode.parent;\n                while (parent!=null) {\n                    path.push({x: parent.x, y:parent.y});\n                    parent = parent.parent;\n                }\n                path.reverse();\n                var ip = path;\n                instance.callback(ip);\n                delete instances[instanceId];\n                instanceQueue.shift();\n                continue;\n            }\n\n            searchNode.list = CLOSED_LIST;\n\n            if (searchNode.y > 0) {\n                checkAdjacentNode(instance, searchNode,\n                    0, -1, STRAIGHT_COST * getTileCost(searchNode.x, searchNode.y-1));\n            }\n            if (searchNode.x < collisionGrid[0].length-1) {\n                checkAdjacentNode(instance, searchNode,\n                    1, 0, STRAIGHT_COST * getTileCost(searchNode.x+1, searchNode.y));\n            }\n            if (searchNode.y < collisionGrid.length-1) {\n                checkAdjacentNode(instance, searchNode,\n                    0, 1, STRAIGHT_COST * getTileCost(searchNode.x, searchNode.y+1));\n            }\n            if (searchNode.x > 0) {\n                checkAdjacentNode(instance, searchNode,\n                    -1, 0, STRAIGHT_COST * getTileCost(searchNode.x-1, searchNode.y));\n            }\n            if (diagonalsEnabled) {\n                if (searchNode.x > 0 && searchNode.y > 0) {\n\n                    if (allowCornerCutting ||\n                        (isTileWalkable(collisionGrid, acceptableTiles, searchNode.x, searchNode.y-1, searchNode) &&\n                        isTileWalkable(collisionGrid, acceptableTiles, searchNode.x-1, searchNode.y, searchNode))) {\n\n                        checkAdjacentNode(instance, searchNode,\n                            -1, -1, DIAGONAL_COST * getTileCost(searchNode.x-1, searchNode.y-1));\n                    }\n                }\n                if (searchNode.x < collisionGrid[0].length-1 && searchNode.y < collisionGrid.length-1) {\n\n                    if (allowCornerCutting ||\n                        (isTileWalkable(collisionGrid, acceptableTiles, searchNode.x, searchNode.y+1, searchNode) &&\n                        isTileWalkable(collisionGrid, acceptableTiles, searchNode.x+1, searchNode.y, searchNode))) {\n\n                        checkAdjacentNode(instance, searchNode,\n                            1, 1, DIAGONAL_COST * getTileCost(searchNode.x+1, searchNode.y+1));\n                    }\n                }\n                if (searchNode.x < collisionGrid[0].length-1 && searchNode.y > 0) {\n\n                    if (allowCornerCutting ||\n                        (isTileWalkable(collisionGrid, acceptableTiles, searchNode.x, searchNode.y-1, searchNode) &&\n                        isTileWalkable(collisionGrid, acceptableTiles, searchNode.x+1, searchNode.y, searchNode))) {\n\n                        checkAdjacentNode(instance, searchNode,\n                            1, -1, DIAGONAL_COST * getTileCost(searchNode.x+1, searchNode.y-1));\n                    }\n                }\n                if (searchNode.x > 0 && searchNode.y < collisionGrid.length-1) {\n\n                    if (allowCornerCutting ||\n                        (isTileWalkable(collisionGrid, acceptableTiles, searchNode.x, searchNode.y+1, searchNode) &&\n                        isTileWalkable(collisionGrid, acceptableTiles, searchNode.x-1, searchNode.y, searchNode))) {\n\n                        checkAdjacentNode(instance, searchNode,\n                            -1, 1, DIAGONAL_COST * getTileCost(searchNode.x-1, searchNode.y+1));\n                    }\n                }\n            }\n\n        }\n    };\n\n    // Private methods follow\n    var checkAdjacentNode = function(instance, searchNode, x, y, cost) {\n        var adjacentCoordinateX = searchNode.x+x;\n        var adjacentCoordinateY = searchNode.y+y;\n\n        if ((pointsToAvoid[adjacentCoordinateY] === undefined ||\n             pointsToAvoid[adjacentCoordinateY][adjacentCoordinateX] === undefined) &&\n            isTileWalkable(collisionGrid, acceptableTiles, adjacentCoordinateX, adjacentCoordinateY, searchNode)) {\n            var node = coordinateToNode(instance, adjacentCoordinateX,\n                adjacentCoordinateY, searchNode, cost);\n\n            if (node.list === undefined) {\n                node.list = OPEN_LIST;\n                instance.openList.push(node);\n            } else if (searchNode.costSoFar + cost < node.costSoFar) {\n                node.costSoFar = searchNode.costSoFar + cost;\n                node.parent = searchNode;\n                instance.openList.updateItem(node);\n            }\n        }\n    };\n\n    // Helpers\n    var isTileWalkable = function(collisionGrid, acceptableTiles, x, y, sourceNode) {\n        var directionalCondition = directionalConditions[y] && directionalConditions[y][x];\n        if (directionalCondition) {\n            var direction = calculateDirection(sourceNode.x - x, sourceNode.y - y)\n            var directionIncluded = function () {\n                for (var i = 0; i < directionalCondition.length; i++) {\n                    if (directionalCondition[i] === direction) return true\n                }\n                return false\n            }\n            if (!directionIncluded()) return false\n        }\n        for (var i = 0; i < acceptableTiles.length; i++) {\n            if (collisionGrid[y][x] === acceptableTiles[i]) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    /**\n     * -1, -1 | 0, -1  | 1, -1\n     * -1,  0 | SOURCE | 1,  0\n     * -1,  1 | 0,  1  | 1,  1\n     */\n    var calculateDirection = function (diffX, diffY) {\n        if (diffX === 0 && diffY === -1) return EasyStar.TOP\n        else if (diffX === 1 && diffY === -1) return EasyStar.TOP_RIGHT\n        else if (diffX === 1 && diffY === 0) return EasyStar.RIGHT\n        else if (diffX === 1 && diffY === 1) return EasyStar.BOTTOM_RIGHT\n        else if (diffX === 0 && diffY === 1) return EasyStar.BOTTOM\n        else if (diffX === -1 && diffY === 1) return EasyStar.BOTTOM_LEFT\n        else if (diffX === -1 && diffY === 0) return EasyStar.LEFT\n        else if (diffX === -1 && diffY === -1) return EasyStar.TOP_LEFT\n        throw new Error('These differences are not valid: ' + diffX + ', ' + diffY)\n    };\n\n    var getTileCost = function(x, y) {\n        return (pointsToCost[y] && pointsToCost[y][x]) || costMap[collisionGrid[y][x]]\n    };\n\n    var coordinateToNode = function(instance, x, y, parent, cost) {\n        if (instance.nodeHash[y] !== undefined) {\n            if (instance.nodeHash[y][x] !== undefined) {\n                return instance.nodeHash[y][x];\n            }\n        } else {\n            instance.nodeHash[y] = {};\n        }\n        var simpleDistanceToTarget = getDistance(x, y, instance.endX, instance.endY);\n        if (parent!==null) {\n            var costSoFar = parent.costSoFar + cost;\n        } else {\n            costSoFar = 0;\n        }\n        var node = new Node(parent,x,y,costSoFar,simpleDistanceToTarget);\n        instance.nodeHash[y][x] = node;\n        return node;\n    };\n\n    var getDistance = function(x1,y1,x2,y2) {\n        if (diagonalsEnabled) {\n            // Octile distance\n            var dx = Math.abs(x1 - x2);\n            var dy = Math.abs(y1 - y2);\n            if (dx < dy) {\n                return DIAGONAL_COST * dx + dy;\n            } else {\n                return DIAGONAL_COST * dy + dx;\n            }\n        } else {\n            // Manhattan distance\n            var dx = Math.abs(x1 - x2);\n            var dy = Math.abs(y1 - y2);\n            return (dx + dy);\n        }\n    };\n}\n\nEasyStar.TOP = 'TOP'\nEasyStar.TOP_RIGHT = 'TOP_RIGHT'\nEasyStar.RIGHT = 'RIGHT'\nEasyStar.BOTTOM_RIGHT = 'BOTTOM_RIGHT'\nEasyStar.BOTTOM = 'BOTTOM'\nEasyStar.BOTTOM_LEFT = 'BOTTOM_LEFT'\nEasyStar.LEFT = 'LEFT'\nEasyStar.TOP_LEFT = 'TOP_LEFT'\n","// inicializace promennych (kdyz se inicializuji v create, tak to nefunguje)\r\n\r\n\r\nvar keys;\r\nvar PacMan;\r\nvar RedGhost;\r\nvar GreenGhost;\r\nvar PurpleGhost;\r\nvar GreyGhost;\r\nvar CoinLayer;\r\nvar BonusLayer;\r\nvar coins;\r\nvar bonus;\r\nvar coinScore = 0;\r\nvar level = 1;\r\nvar topLayer;\r\nvar map;\r\nvar terrain;\r\nvar bonusF;\r\nvar text;\r\n\r\nvar esc;\r\nvar resume;\r\n\r\nvar temp = 0;\r\nvar temp2 = 0;\r\nvar lives = 3;\r\nvar Srdce1;\r\nvar Srdce2;\r\nvar Srdce3;\r\nvar timedEvent;\r\nvar scoreField = [];\r\nvar spawn = 0;\r\n\r\nvar toX;\r\nvar toY;\r\nvar fromX;\r\nvar fromY;\r\nvar finder;\r\nvar grid;\r\n// trida scena, rozsiruje PhaserScene a musi se exportovat\r\nexport class PlayScene extends Phaser.Scene {\r\n    constructor() {\r\n        super({\r\n            key: \"PlayScene\",   // vstupni data\r\n        })\r\n    }\r\n    init(data) {\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    preload() { // funkce ve ktere se nactou obrazky a zvuky ze souboru assets pro vsechny sceny\r\n\r\n        this.load.tilemapTiledJSON(\"map\", \"./assets/Tilemaps/map.json\")\r\n        this.load.image(\"terrain\", \"./assets/Tilesets/BlokyF.png\")\r\n\r\n\r\n    }\r\n\r\n    create() {\r\n        lives = 3;\r\n        bonusF = false;\r\n        coinScore = 0;\r\n        level = 1;\r\n        temp = 0;\r\n        temp2 = 0;\r\n        spawn = 0;\r\n\r\n        function getTileID(x, y) {\r\n            var tile = map.getTileAt(x, y);\r\n            return tile.index;\r\n        };\r\n\r\n        function collectCoin(PacMan, coin) {\r\n            coin.destroy(coin.x, coin.y);\r\n            coinScore++;\r\n            text.setText(`Nickname: ${localStorage.getItem(\"playerName\")}   Score: ${coinScore}`)\r\n\r\n            return false;\r\n        }\r\n        function collectBonus(PacMan, bonus) {\r\n            bonus.destroy(bonus.x, bonus.y);\r\n            bonusF = true;\r\n            RedGhost.setTexture(\"BlackGhost\");\r\n            PurpleGhost.setTexture(\"BlackGhost\");\r\n            GreenGhost.setTexture(\"BlackGhost\");\r\n            GreyGhost.setTexture(\"BlackGhost\");\r\n            timedEvent = this.time.delayedCall(3000, waitEvent, [], this);\r\n            function waitEvent() {\r\n                RedGhost.setTexture(\"RedGhost\");\r\n                PurpleGhost.setTexture(\"PurpleGhost\");\r\n                GreenGhost.setTexture(\"GreenGhost\");\r\n                GreyGhost.setTexture(\"GreyGhost\");\r\n                bonusF = false;\r\n                temp2 = 0;\r\n            }\r\n\r\n\r\n            return false;\r\n        }\r\n        function damageR() {\r\n            if (bonusF === false) {\r\n\r\n                PacMan.setVelocityX(0)\r\n                PacMan.setVelocityY(0)\r\n                PacMan.x = 656\r\n                PacMan.y = 560\r\n\r\n                RedGhost.x = 656\r\n                RedGhost.y = 304\r\n\r\n                PurpleGhost.x = 592\r\n                PurpleGhost.y = 400\r\n\r\n                GreyGhost.x = 640\r\n                GreyGhost.y = 464\r\n\r\n                GreenGhost.x = 688\r\n                GreenGhost.y = 400\r\n                lives = lives - 1;\r\n                \r\n                spawn = 0;\r\n           \r\n                return false;\r\n            }\r\n            else {\r\n                var test = lives;\r\n                RedGhost.x = 646\r\n                RedGhost.y = 400\r\n                timedEvent = this.time.delayedCall(3000, respawnEvent, [], this);\r\n                function respawnEvent() {\r\n                    if(lives === test) {\r\n                    RedGhost.x = 656\r\n                    RedGhost.y = 304\r\n                    }\r\n                    temp2 = 0;\r\n                \r\n                }\r\n\r\n\r\n            }\r\n        }\r\n        function damageG() {\r\n            if (bonusF === false) {\r\n\r\n                PacMan.setVelocityX(0)\r\n                PacMan.setVelocityY(0)\r\n                PacMan.x = 656\r\n                PacMan.y = 560\r\n\r\n                RedGhost.x = 656\r\n                RedGhost.y = 304\r\n\r\n                PurpleGhost.x = 592\r\n                PurpleGhost.y = 400\r\n\r\n                GreyGhost.x = 640\r\n                GreyGhost.y = 464\r\n\r\n                GreenGhost.x = 688\r\n                GreenGhost.y = 400\r\n                lives = lives - 1;\r\n                spawn = 0;\r\n                return false;\r\n            }\r\n            else {\r\n                var test = lives;\r\n                GreenGhost.x = 688\r\n                GreenGhost.y = 400\r\n                var timedEvent = this.time.delayedCall(3000, respawnEvent, [], this);\r\n                function respawnEvent() {\r\n                    if(lives === test) {\r\n                    GreenGhost.x = 1232;\r\n                    GreenGhost.y = 464;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        function damageP() {\r\n            if (bonusF === false) {\r\n\r\n                PacMan.setVelocityX(0)\r\n                PacMan.setVelocityY(0)\r\n                PacMan.x = 656\r\n                PacMan.y = 560\r\n\r\n                RedGhost.x = 656\r\n                RedGhost.y = 304\r\n\r\n                PurpleGhost.x = 592\r\n                PurpleGhost.y = 400\r\n\r\n                GreyGhost.x = 640\r\n                GreyGhost.y = 464\r\n\r\n                GreenGhost.x = 688\r\n                GreenGhost.y = 400\r\n                lives = lives - 1;\r\n                spawn = 0;\r\n                return false;\r\n            }\r\n            else {\r\n                var test = lives;\r\n                PurpleGhost.x = 592\r\n                PurpleGhost.y = 400\r\n\r\n                var timedEvent1 = this.time.delayedCall(3000, respawnEvent1, [], this);\r\n                function respawnEvent1() {\r\n                    if(lives === test) {\r\n                    PurpleGhost.x = 48;\r\n                    PurpleGhost.y = 464;\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n        function damageGrey() {\r\n            if (bonusF === false) {\r\n\r\n                PacMan.setVelocityX(0)\r\n                PacMan.setVelocityY(0)\r\n                PacMan.x = 656\r\n                PacMan.y = 560\r\n\r\n                RedGhost.x = 656\r\n                RedGhost.y = 304\r\n\r\n                PurpleGhost.x = 592\r\n                PurpleGhost.y = 400\r\n\r\n                GreyGhost.x = 640\r\n                GreyGhost.y = 464\r\n\r\n                GreenGhost.x = 688\r\n                GreenGhost.y = 400\r\n                lives = lives - 1;\r\n                spawn = 0;\r\n                return false;\r\n            }\r\n            else {\r\n                var test = lives;\r\n                GreyGhost.x = 640\r\n                GreyGhost.y = 464\r\n                var timedEvent2 = this.time.delayedCall(3000, respawnEvent2, [], this);\r\n                function respawnEvent2() {\r\n                    if(lives === test) {\r\n                    GreyGhost.x = 656;\r\n                    GreyGhost.y = 848;\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n\r\n        keys = this.input.keyboard.addKeys(\"W,Q,E,A,D,S\");\r\n        esc = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ESC)\r\n\r\n        map = this.add.tilemap(\"map\");\r\n\r\n        terrain = map.addTilesetImage(\"Bloky\", \"terrain\")\r\n\r\n        topLayer = map.createStaticLayer(\"top\", [terrain], 0, 0).setDepth(-1)\r\n\r\n\r\n\r\n\r\n        Srdce1 = this.add.image(1000, 15, 'Srdce');\r\n        Srdce2 = this.add.image(1050, 15, 'Srdce');\r\n        Srdce3 = this.add.image(1100, 15, 'Srdce');\r\n\r\n        CoinLayer = map.getObjectLayer('points')['objects'];\r\n\r\n\r\n        coins = this.physics.add.staticGroup()\r\n        CoinLayer.forEach(object => {\r\n            let obj = coins.create(object.x + 16, object.y - 16, \"coin\");\r\n            obj.setScale(0.5)\r\n            obj.body.width = object.width;\r\n            obj.body.height = object.height;\r\n        });\r\n        BonusLayer = map.getObjectLayer('bonus')['objects'];\r\n\r\n        bonus = this.physics.add.staticGroup()\r\n        BonusLayer.forEach(object => {\r\n            let obj = bonus.create(object.x + 16, object.y - 16, \"bonus\");\r\n            obj.setScale(0.5)\r\n            obj.body.width = object.width;\r\n            obj.body.height = object.height;\r\n        });\r\n\r\n        PacMan = this.physics.add.image(656, 560, 'PacMan');\r\n        RedGhost = this.physics.add.image(656, 304, 'RedGhost');\r\n        GreenGhost = this.physics.add.image(688, 400, 'GreenGhost');\r\n        PurpleGhost = this.physics.add.image(592, 400, 'PurpleGhost');\r\n        GreyGhost = this.physics.add.image(640, 464, 'GreyGhost');\r\n        topLayer.setCollisionByProperty({ collide: true });\r\n\r\n        this.physics.add.collider(PacMan, topLayer);\r\n        this.physics.add.collider(RedGhost, topLayer);\r\n\r\n\r\n\r\n        PacMan.setCollideWorldBounds(false);\r\n        RedGhost.setCollideWorldBounds(true);\r\n\r\n        this.physics.add.overlap(PacMan, coins, collectCoin, null, this);\r\n        this.physics.add.overlap(PacMan, bonus, collectBonus, null, this);\r\n\r\n        this.physics.add.overlap(PacMan, RedGhost, damageR, null, this);\r\n        this.physics.add.overlap(PacMan, GreyGhost, damageGrey, null, this);\r\n        this.physics.add.overlap(PacMan, GreenGhost, damageG, null, this);\r\n        this.physics.add.overlap(PacMan, PurpleGhost, damageP, null, this);\r\n\r\n\r\n        var easystarjs = require('easystarjs');\r\n        var easystar = new easystarjs.js();\r\n        finder = easystar;\r\n        grid = [];\r\n\r\n        for (var y = 0; y < map.height; y++) {\r\n            var col = [];\r\n            for (var x = 0; x < map.width; x++) {\r\n                col.push(getTileID(x, y));\r\n            }\r\n            grid.push(col);\r\n        }\r\n        finder.setGrid(grid);\r\n\r\n        var tileset = map.tilesets[0];\r\n        var properties = tileset.tileProperties;\r\n        var acceptableTiles = [];\r\n\r\n        for (var i = tileset.firstgid - 1; i < 1120; i++) {\r\n            if (!properties.hasOwnProperty(i)) {\r\n\r\n                acceptableTiles.push(i + 1);\r\n                continue;\r\n            }\r\n            if (!properties[i].collide) acceptableTiles.push(i + 1);\r\n        }\r\n        finder.setAcceptableTiles(acceptableTiles);\r\n\r\n\r\n\r\n        text = this.add.text(100, 10, `Nickname: ${localStorage.getItem(\"playerName\")}   Score: ${coinScore}`, {\r\n            fontSize: '20px',\r\n            fill: '#ffa500'\r\n        });\r\n        text.setScrollFactor(0);\r\n\r\n\r\n        var text2 = this.add.text(900, 10, `Lives:`, {\r\n            fontSize: '20px',\r\n            fill: '#ff0000'\r\n        });\r\n        text2.setScrollFactor(0);\r\n\r\n\r\n    }\r\n\r\n    update() { // funkce, ktera updatuje scenu\r\n        if (lives === 2) {\r\n\r\n            Srdce3.visible = false\r\n        }\r\n        if (lives === 1) {\r\n\r\n            Srdce2.visible = false;\r\n        }\r\n        if (lives === 0) {\r\n\r\n            Srdce1.visible = false;\r\n            var text3 = this.add.text(325, 100, `Game Over :(`, {\r\n                fontSize: '80px',\r\n                fill: '#ff0000'\r\n            });\r\n            text3.setScrollFactor(0);\r\n            timedEvent = this.time.delayedCall(3000, loseEvent, [], this);\r\n            function loseEvent() {\r\n                // nacteni skore a pridani nove serazeneho skore do pameti browseru\r\n                var testObject = JSON.parse(localStorage.getItem(\"score\"));\r\n                if (testObject !== null) {\r\n                    scoreField = JSON.parse(localStorage.getItem(\"score\"));\r\n                }\r\n                var scoreObject = {\r\n                    playerName: localStorage.getItem(\"playerName\"),\r\n                    score: coinScore,\r\n                };\r\n                if (scoreField === null || scoreField === undefined) {\r\n                    scoreField[0] = scoreObject;\r\n                }\r\n                else {\r\n                    scoreField.push(scoreObject);\r\n\r\n\r\n                    var length = scoreField.length;\r\n                    for (var i = (length - 1); i >= 0; i--) {\r\n                        for (var j = (length - i); j > 0; j--) {\r\n                            if (scoreField[j] === undefined) {\r\n                                break;\r\n                            }\r\n                            if (scoreField[j].score > scoreField[j - 1].score) {\r\n\r\n                                var tmp = scoreField[j];\r\n                                scoreField[j] = scoreField[j - 1];\r\n                                scoreField[j - 1] = tmp;\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                localStorage.setItem(\"score\", JSON.stringify(scoreField));\r\n                coinScore = 0;\r\n\r\n                this.scene.stop();\r\n                this.scene.launch(\"MenuScene\");\r\n\r\n\r\n            }\r\n        }\r\n        if (spawn === 0) {\r\n            timedEvent = this.time.delayedCall(3000, spawn1Event, [], this);\r\n            function spawn1Event() {\r\n                PurpleGhost.x = 48;\r\n                PurpleGhost.y = 464;\r\n\r\n            }\r\n            timedEvent = this.time.delayedCall(6000, spawn2Event, [], this);\r\n            function spawn2Event() {\r\n                GreenGhost.x = 1232;\r\n                GreenGhost.y = 464;\r\n\r\n            }\r\n            timedEvent = this.time.delayedCall(9000, spawn3Event, [], this);\r\n            function spawn3Event() {\r\n                GreyGhost.x = 656;\r\n                GreyGhost.y = 848;\r\n            }\r\n            spawn = 1;\r\n        }\r\n        if (coinScore === 159) {\r\n            var text3 = this.add.text(230, 100, `You won this level!`, {\r\n                fontSize: '80px',\r\n                fill: '#ff0000'\r\n            });\r\n            text3.setScrollFactor(0);\r\n            timedEvent = this.time.delayedCall(3000, winEvent, [], this);\r\n            function winEvent() {\r\n\r\n                // nacteni skore a pridani nove serazeneho skore do pameti browseru\r\n                var testObject = JSON.parse(localStorage.getItem(\"score\"));\r\n                if (testObject !== null) {\r\n                    scoreField = JSON.parse(localStorage.getItem(\"score\"));\r\n                }\r\n                var scoreObject = {\r\n                    playerName: localStorage.getItem(\"playerName\"),\r\n                    score: coinScore,\r\n                };\r\n                if (scoreField === null || scoreField === undefined) {\r\n                    scoreField[0] = scoreObject;\r\n                }\r\n                else {\r\n                    scoreField.push(scoreObject);\r\n\r\n\r\n                    var length = scoreField.length;\r\n                    for (var i = (length - 1); i >= 0; i--) {\r\n                        for (var j = (length - i); j > 0; j--) {\r\n                            if (scoreField[j] === undefined) {\r\n                                break;\r\n                            }\r\n                            if (scoreField[j].score > scoreField[j - 1].score) {\r\n\r\n                                var tmp = scoreField[j];\r\n                                scoreField[j] = scoreField[j - 1];\r\n                                scoreField[j - 1] = tmp;\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                localStorage.setItem(\"score\", JSON.stringify(scoreField));\r\n                coinScore = 0;\r\n\r\n                this.scene.stop();\r\n                this.scene.launch(\"MenuScene\");\r\n\r\n            }\r\n        }\r\n\r\n\r\n        if (temp2 === 72) {\r\n\r\n            toX = Math.floor(PacMan.x / 32);\r\n            toY = Math.floor(PacMan.y / 32);\r\n            fromX = Math.floor(RedGhost.x / 32);\r\n            fromY = Math.floor(RedGhost.y / 32);\r\n            finder.findPath(fromX, fromY, toX, toY, function (path) {\r\n                if (path === null) {\r\n\r\n                } else {\r\n                    if (bonusF === false) {\r\n                        RedGhost.x = Math.floor(path[1].x * 32) + 16;\r\n                        RedGhost.y = Math.floor(path[1].y * 32) + 16;\r\n                        temp2 = 0;\r\n                    }\r\n\r\n                }\r\n            });\r\n        }\r\n        finder.calculate();\r\n        temp2 = temp2 + 1;\r\n\r\n\r\n        if (PacMan.x > 1270) {\r\n            PacMan.x = 10\r\n        }\r\n        if (PacMan.x < 10) {\r\n            PacMan.x = 1270\r\n        }\r\n\r\n        if ((keys.W.isDown || keys.S.isDown || keys.A.isDown || keys.D.isDown)) {\r\n\r\n            PacMan.setTexture(\"PacMan\");\r\n\r\n            if (keys.W.isDown) {\r\n\r\n\r\n                temp = temp + 1;\r\n                if (temp % 60 == 0) {\r\n\r\n                    PacMan.x = (Math.floor(PacMan.x / 16)) * 16;\r\n\r\n                    if (Math.floor(PacMan.x) % 32 == 0) {\r\n                        PacMan.x = PacMan.x - 16;\r\n                    }\r\n\r\n\r\n                    temp = 0;\r\n                }\r\n\r\n                PacMan.setVelocityY(-400);\r\n                PacMan.angle = 270;\r\n\r\n            }\r\n            else if (keys.S.isDown) {\r\n\r\n                temp = temp + 1;\r\n                if (temp % 60 == 0) {\r\n\r\n                    PacMan.x = (Math.floor(PacMan.x / 16)) * 16;\r\n\r\n                    if (Math.floor(PacMan.x) % 32 == 0) {\r\n                        PacMan.x = PacMan.x - 16;\r\n                    }\r\n\r\n\r\n                    temp = 0;\r\n                }\r\n\r\n\r\n                PacMan.setVelocityY(+400);\r\n                PacMan.angle = 90;\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n            if (keys.A.isDown) {\r\n\r\n                temp = temp + 1;\r\n                if (temp % 60 == 0) {\r\n\r\n                    PacMan.y = (Math.floor(PacMan.y / 16)) * 16;\r\n\r\n                    if (Math.floor(PacMan.y) % 32 == 0) {\r\n                        PacMan.y = PacMan.y - 16;\r\n                    }\r\n\r\n\r\n                    temp = 0;\r\n                }\r\n\r\n                PacMan.setVelocityX(-400);\r\n                PacMan.angle = 0;\r\n                PacMan.setTexture(\"PacMan2\");\r\n            }\r\n            else if (keys.D.isDown) {\r\n                temp = temp + 1;\r\n                if (temp % 60 == 0) {\r\n\r\n                    PacMan.y = (Math.floor(PacMan.y / 16)) * 16;\r\n\r\n                    if (Math.floor(PacMan.y) % 32 == 0) {\r\n                        PacMan.y = PacMan.y - 16;\r\n                    }\r\n\r\n\r\n                    temp = 0;\r\n                }\r\n\r\n                PacMan.setVelocityX(400);\r\n                PacMan.angle = 0;\r\n\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n        if (Phaser.Input.Keyboard.JustDown(esc)) {\r\n            this.scene.pause();\r\n            this.scene.launch(\"PauseScene\", { level: level, coinScore: coinScore });\r\n            //      music.pause();\r\n            keys.W.isDown = false;\r\n            keys.A.isDown = false;\r\n            keys.S.isDown = false;\r\n            keys.D.isDown = false;\r\n\r\n            resume = true;\r\n        }\r\n\r\n\r\n    }\r\n}","// inicializace promennych (kdyz se inicializuji v create, tak to nefunguje)\r\n\r\n\r\nvar keys;\r\nvar PacMan;\r\nvar RedGhost;\r\nvar GreenGhost;\r\nvar PurpleGhost;\r\nvar GreyGhost;\r\nvar CoinLayer;\r\nvar BonusLayer;\r\nvar coins;\r\nvar bonus;\r\nvar coinScore = 159;\r\nvar health = 3;\r\nvar level = 1;\r\nvar topLayer;\r\nvar botLayer;\r\nvar map;\r\nvar terrain;\r\nvar bonusF;\r\nvar text;\r\n\r\nvar x;\r\nvar y;\r\nvar esc;\r\nvar resume;\r\n\r\nvar temp = 0;\r\nvar temp2 = 0;\r\nvar lives = 3;\r\nvar Srdce1;\r\nvar Srdce2;\r\nvar Srdce3;\r\nvar timedEvent;\r\nvar scoreField = [];\r\n\r\nvar toX;\r\nvar toY;\r\nvar fromX;\r\nvar fromY;\r\nvar finder;\r\nvar grid;\r\n// trida scena, rozsiruje PhaserScene a musi se exportovat\r\nexport class PlayScene2 extends Phaser.Scene {\r\n    constructor() {\r\n        super({\r\n            key: \"PlayScene2\",   // vstupni data\r\n        })\r\n    }\r\n    init(data) {\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    preload() { // funkce ve ktere se nactou obrazky a zvuky ze souboru assets pro vsechny sceny\r\n\r\n\r\n\r\n    }\r\n\r\n    create() {\r\n        lives = 3;\r\n        bonusF = false;\r\n\r\n        function getTileID(x, y) {\r\n            var tile = map.getTileAt(x, y);\r\n            return tile.index;\r\n        };\r\n\r\n        function collectCoin(PacMan, coin) {\r\n            coin.destroy(coin.x, coin.y);\r\n            coinScore++;\r\n            text.setText(`Nickname: ${localStorage.getItem(\"playerName\")}   Score: ${coinScore}`)\r\n\r\n            return false;\r\n        }\r\n        function collectBonus(PacMan, bonus) {\r\n            bonus.destroy(bonus.x, bonus.y);\r\n            bonusF = true;\r\n            RedGhost.setTexture(\"BlackGhost\");\r\n            PurpleGhost.setTexture(\"BlackGhost\");\r\n            GreenGhost.setTexture(\"BlackGhost\");\r\n            GreyGhost.setTexture(\"BlackGhost\");\r\n            timedEvent = this.time.delayedCall(3000, waitEvent, [], this);\r\n            function waitEvent() {\r\n                RedGhost.setTexture(\"RedGhost\");\r\n                PurpleGhost.setTexture(\"PurpleGhost\");\r\n                GreenGhost.setTexture(\"GreenGhost\");\r\n                GreyGhost.setTexture(\"GreyGhost\");\r\n                bonusF = false;\r\n                temp2 = 0;\r\n            }\r\n\r\n\r\n            return false;\r\n        }\r\n        function damageR() {\r\n            if (bonusF === false) {\r\n\r\n                PacMan.setVelocityX(0)\r\n                PacMan.setVelocityY(0)\r\n                PacMan.x = 656\r\n                PacMan.y = 560\r\n\r\n                RedGhost.x = 656\r\n                RedGhost.y = 304\r\n\r\n                PurpleGhost.x = 592\r\n                PurpleGhost.y = 400\r\n\r\n                GreyGhost.x = 640\r\n                GreyGhost.y = 464\r\n\r\n                GreenGhost.x = 688\r\n                GreenGhost.y = 400\r\n                lives = lives - 1;\r\n                return false;\r\n            }\r\n            else {\r\n                RedGhost.x = 656\r\n                RedGhost.y = 304\r\n\r\n            }\r\n        }\r\n        function damageG() {\r\n            if (bonusF === false) {\r\n\r\n                PacMan.setVelocityX(0)\r\n                PacMan.setVelocityY(0)\r\n                PacMan.x = 656\r\n                PacMan.y = 560\r\n\r\n                RedGhost.x = 656\r\n                RedGhost.y = 304\r\n\r\n                PurpleGhost.x = 592\r\n                PurpleGhost.y = 400\r\n\r\n                GreyGhost.x = 640\r\n                GreyGhost.y = 464\r\n\r\n                GreenGhost.x = 688\r\n                GreenGhost.y = 400\r\n                lives = lives - 1;\r\n                return false;\r\n            }\r\n            else {\r\n                GreenGhost.x = 688\r\n                GreenGhost.y = 400\r\n            }\r\n        }\r\n        function damageP() {\r\n            if (bonusF === false) {\r\n\r\n                PacMan.setVelocityX(0)\r\n                PacMan.setVelocityY(0)\r\n                PacMan.x = 656\r\n                PacMan.y = 560\r\n\r\n                RedGhost.x = 656\r\n                RedGhost.y = 304\r\n\r\n                PurpleGhost.x = 592\r\n                PurpleGhost.y = 400\r\n\r\n                GreyGhost.x = 640\r\n                GreyGhost.y = 464\r\n\r\n                GreenGhost.x = 688\r\n                GreenGhost.y = 400\r\n                lives = lives - 1;\r\n                return false;\r\n            }\r\n            else {\r\n                PurpleGhost.x = 592\r\n                PurpleGhost.y = 400\r\n            }\r\n        }\r\n        function damageO() {\r\n            if (bonusF === false) {\r\n\r\n                PacMan.setVelocityX(0)\r\n                PacMan.setVelocityY(0)\r\n                PacMan.x = 656\r\n                PacMan.y = 560\r\n\r\n                RedGhost.x = 656\r\n                RedGhost.y = 304\r\n\r\n                PurpleGhost.x = 592\r\n                PurpleGhost.y = 400\r\n\r\n                GreyGhost.x = 640\r\n                GreyGhost.y = 464\r\n\r\n                GreenGhost.x = 688\r\n                GreenGhost.y = 400\r\n                lives = lives - 1;\r\n                return false;\r\n            }\r\n            else {\r\n                GreyGhost.x = 640\r\n                GreyGhost.y = 464\r\n            }\r\n        }\r\n\r\n\r\n\r\n        keys = this.input.keyboard.addKeys(\"W,Q,E,A,D,S\");\r\n        esc = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ESC)\r\n\r\n        map = this.add.tilemap(\"map\");\r\n\r\n        terrain = map.addTilesetImage(\"Bloky\", \"terrain\")\r\n\r\n        topLayer = map.createStaticLayer(\"top\", [terrain], 0, 0).setDepth(-1)\r\n\r\n\r\n\r\n\r\n        Srdce1 = this.add.image(1000, 15, 'Srdce');\r\n        Srdce2 = this.add.image(1050, 15, 'Srdce');\r\n        Srdce3 = this.add.image(1100, 15, 'Srdce');\r\n\r\n        CoinLayer = map.getObjectLayer('points')['objects'];\r\n\r\n\r\n        coins = this.physics.add.staticGroup()\r\n        CoinLayer.forEach(object => {\r\n            let obj = coins.create(object.x + 16, object.y - 16, \"coin\");\r\n            obj.setScale(0.5)\r\n            obj.body.width = object.width;\r\n            obj.body.height = object.height;\r\n        });\r\n        BonusLayer = map.getObjectLayer('bonus')['objects'];\r\n\r\n        bonus = this.physics.add.staticGroup()\r\n        BonusLayer.forEach(object => {\r\n            let obj = bonus.create(object.x + 16, object.y - 16, \"bonus\");\r\n            obj.setScale(0.5)\r\n            obj.body.width = object.width;\r\n            obj.body.height = object.height;\r\n        });\r\n\r\n        PacMan = this.physics.add.image(656, 560, 'PacMan');\r\n        RedGhost = this.physics.add.image(656, 304, 'RedGhost');\r\n        GreenGhost = this.physics.add.image(688, 400, 'GreenGhost');\r\n        PurpleGhost = this.physics.add.image(592, 400, 'PurpleGhost');\r\n        GreyGhost = this.physics.add.image(640, 464, 'GreyGhost');\r\n        topLayer.setCollisionByProperty({ collide: true });\r\n\r\n        this.physics.add.collider(PacMan, topLayer);\r\n        this.physics.add.collider(RedGhost, topLayer);\r\n\r\n\r\n\r\n        PacMan.setCollideWorldBounds(false);\r\n        RedGhost.setCollideWorldBounds(true);\r\n\r\n        this.physics.add.overlap(PacMan, coins, collectCoin, null, this);\r\n        this.physics.add.overlap(PacMan, bonus, collectBonus, null, this);\r\n\r\n        this.physics.add.overlap(PacMan, RedGhost, damageR, null, this);\r\n        this.physics.add.overlap(PacMan, GreyGhost, damageO, null, this);\r\n        this.physics.add.overlap(PacMan, GreenGhost, damageG, null, this);\r\n        this.physics.add.overlap(PacMan, PurpleGhost, damageP, null, this);\r\n\r\n\r\n        var easystarjs = require('easystarjs');\r\n        var easystar = new easystarjs.js();\r\n        finder = easystar;\r\n        grid = [];\r\n\r\n        for (var y = 0; y < map.height; y++) {\r\n            var col = [];\r\n            for (var x = 0; x < map.width; x++) {\r\n                col.push(getTileID(x, y));\r\n            }\r\n            grid.push(col);\r\n        }\r\n        finder.setGrid(grid);\r\n\r\n        var tileset = map.tilesets[0];\r\n        var properties = tileset.tileProperties;\r\n        var acceptableTiles = [];\r\n\r\n        for (var i = tileset.firstgid - 1; i < 1120; i++) {\r\n            if (!properties.hasOwnProperty(i)) {\r\n\r\n                acceptableTiles.push(i + 1);\r\n                continue;\r\n            }\r\n            if (!properties[i].collide) acceptableTiles.push(i + 1);\r\n        }\r\n        finder.setAcceptableTiles(acceptableTiles);\r\n\r\n\r\n\r\n        text = this.add.text(100, 10, `Nickname: ${localStorage.getItem(\"playerName\")}   Score: ${coinScore}`, {\r\n            fontSize: '20px',\r\n            fill: '#ffa500'\r\n        });\r\n        text.setScrollFactor(0);\r\n\r\n\r\n        var text2 = this.add.text(900, 10, `Lives:`, {\r\n            fontSize: '20px',\r\n            fill: '#ff0000'\r\n        });\r\n        text2.setScrollFactor(0);\r\n\r\n\r\n    }\r\n\r\n    update() { // funkce, ktera updatuje scenu\r\n        if (lives === 2) {\r\n\r\n            Srdce3.visible = false\r\n        }\r\n        if (lives === 1) {\r\n\r\n            Srdce2.visible = false;\r\n        }\r\n        if (lives === 0) {\r\n\r\n            Srdce1.visible = false;\r\n            var text3 = this.add.text(325, 100, `Game Over :(`, {\r\n                fontSize: '80px',\r\n                fill: '#ff0000'\r\n            });\r\n            text3.setScrollFactor(0);\r\n            timedEvent = this.time.delayedCall(3000, loseEvent, [], this);\r\n            function loseEvent() {\r\n                // nacteni skore a pridani nove serazeneho skore do pameti browseru\r\n                var testObject = JSON.parse(localStorage.getItem(\"score\"));\r\n                if (testObject !== null) {\r\n                    scoreField = JSON.parse(localStorage.getItem(\"score\"));\r\n                }\r\n                var scoreObject = {\r\n                    playerName: localStorage.getItem(\"playerName\"),\r\n                    score: coinScore,\r\n                };\r\n                if (scoreField === null || scoreField === undefined) {\r\n                    scoreField[0] = scoreObject;\r\n                }\r\n                else {\r\n                    scoreField.push(scoreObject);\r\n\r\n\r\n                    var length = scoreField.length;\r\n                    for (var i = (length - 1); i >= 0; i--) {\r\n                        for (var j = (length - i); j > 0; j--) {\r\n                            if (scoreField[j] === undefined) {\r\n                                break;\r\n                            }\r\n                            if (scoreField[j].score > scoreField[j - 1].score) {\r\n\r\n                                var tmp = scoreField[j];\r\n                                scoreField[j] = scoreField[j - 1];\r\n                                scoreField[j - 1] = tmp;\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                localStorage.setItem(\"score\", JSON.stringify(scoreField));\r\n                coinScore = 0;\r\n\r\n                this.scene.stop();\r\n                this.scene.launch(\"MenuScene\");\r\n\r\n\r\n            }\r\n        }\r\n        if (coinScore === 159/*+ novy pocet*/) {\r\n            var text3 = this.add.text(310, 100, `You won this level!`, {\r\n                fontSize: '80px',\r\n                fill: '#ff0000'\r\n            });\r\n            text3.setScrollFactor(0);\r\n            timedEvent = this.time.delayedCall(3000, winEvent, [], this);\r\n            function winEvent() {\r\n\r\n                this.scene.stop();\r\n                this.scene.launch(\"MenuScene\");\r\n                //   this.scene.launch(\"Level2Scene\");\r\n\r\n\r\n            }\r\n        }\r\n\r\n\r\n        if (temp2 === 72) {\r\n\r\n            toX = Math.floor(PacMan.x / 32);\r\n            toY = Math.floor(PacMan.y / 32);\r\n            fromX = Math.floor(RedGhost.x / 32);\r\n            fromY = Math.floor(RedGhost.y / 32);\r\n            finder.findPath(fromX, fromY, toX, toY, function (path) {\r\n                if (path === null) {\r\n\r\n                } else {\r\n                    if (bonusF === false) {\r\n                        RedGhost.x = Math.floor(path[1].x * 32) + 16;\r\n                        RedGhost.y = Math.floor(path[1].y * 32) + 16;\r\n                        temp2 = 0;\r\n                    }\r\n\r\n                }\r\n            });\r\n        }\r\n        finder.calculate();\r\n        temp2 = temp2 + 1;\r\n\r\n\r\n        if (PacMan.x > 1270) {\r\n            PacMan.x = 10\r\n        }\r\n        if (PacMan.x < 10) {\r\n            PacMan.x = 1270\r\n        }\r\n\r\n        if ((keys.W.isDown || keys.S.isDown || keys.A.isDown || keys.D.isDown)) {\r\n\r\n            PacMan.setTexture(\"PacMan\");\r\n\r\n            if (keys.W.isDown) {\r\n\r\n\r\n                temp = temp + 1;\r\n                if (temp % 60 == 0) {\r\n\r\n                    PacMan.x = (Math.floor(PacMan.x / 16)) * 16;\r\n\r\n                    if (Math.floor(PacMan.x) % 32 == 0) {\r\n                        PacMan.x = PacMan.x - 16;\r\n                    }\r\n\r\n\r\n                    temp = 0;\r\n                }\r\n\r\n                PacMan.setVelocityY(-400);\r\n                PacMan.angle = 270;\r\n\r\n            }\r\n            else if (keys.S.isDown) {\r\n\r\n                temp = temp + 1;\r\n                if (temp % 60 == 0) {\r\n\r\n                    PacMan.x = (Math.floor(PacMan.x / 16)) * 16;\r\n\r\n                    if (Math.floor(PacMan.x) % 32 == 0) {\r\n                        PacMan.x = PacMan.x - 16;\r\n                    }\r\n\r\n\r\n                    temp = 0;\r\n                }\r\n\r\n\r\n                PacMan.setVelocityY(+400);\r\n                PacMan.angle = 90;\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n            if (keys.A.isDown) {\r\n\r\n                temp = temp + 1;\r\n                if (temp % 60 == 0) {\r\n\r\n                    PacMan.y = (Math.floor(PacMan.y / 16)) * 16;\r\n\r\n                    if (Math.floor(PacMan.y) % 32 == 0) {\r\n                        PacMan.y = PacMan.y - 16;\r\n                    }\r\n\r\n\r\n                    temp = 0;\r\n                }\r\n\r\n                PacMan.setVelocityX(-400);\r\n                PacMan.angle = 0;\r\n                PacMan.setTexture(\"PacMan2\");\r\n            }\r\n            else if (keys.D.isDown) {\r\n                temp = temp + 1;\r\n                if (temp % 60 == 0) {\r\n\r\n                    PacMan.y = (Math.floor(PacMan.y / 16)) * 16;\r\n\r\n                    if (Math.floor(PacMan.y) % 32 == 0) {\r\n                        PacMan.y = PacMan.y - 16;\r\n                    }\r\n\r\n\r\n                    temp = 0;\r\n                }\r\n\r\n                PacMan.setVelocityX(400);\r\n                PacMan.angle = 0;\r\n\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n        if (Phaser.Input.Keyboard.JustDown(esc)) {\r\n            this.scene.pause();\r\n            this.scene.launch(\"PauseScene\", { level: level });\r\n            //      music.pause();\r\n            keys.W.isDown = false;\r\n            keys.A.isDown = false;\r\n            keys.S.isDown = false;\r\n            keys.D.isDown = false;\r\n\r\n            resume = true;\r\n        }\r\n\r\n\r\n    }\r\n}","// inicializace promennych\r\nvar resumebutton;\r\nvar resume = false;\r\nvar level;\r\nvar menubutton;\r\n\r\n\r\nexport class PauseScene extends Phaser.Scene {\r\n    constructor() {\r\n        super({\r\n            key: \"PauseScene\",\r\n        })\r\n    }\r\n    init(data) {\r\n\r\n        level = data.level;\r\n    }\r\n\r\n    preload() {\r\n      \r\n    }\r\n\r\n    create() {\r\n        // tlacitka\r\n        resumebutton = this.add.image(643, 535, 'resume');\r\n        menubutton = this.add.image(645, 505, 'menu');\r\n\r\n    \r\n        resumebutton.setInteractive();\r\n        menubutton.setInteractive();\r\n\r\n        resumebutton.on('pointerup', function (pointer) {\r\n            resume = true;\r\n\r\n        });\r\n        menubutton.on('pointerup', function (pointer) {\r\n\r\n\r\n            this.scene.start(\"MenuScene\");\r\n\r\n            if (level === 1) {\r\n                \r\n                this.scene.stop(\"PlayScene\");\r\n            }\r\n            /*\r\n            if (level === 2) {\r\n                this.scene.stop(\"Level2Scene\");\r\n            }\r\n            if (level === 3) {\r\n                this.scene.stop(\"Level3Scene\");\r\n            }\r\n            if (level === 4) {\r\n                this.scene.stop(\"Level4Scene\");\r\n            }\r\n*/\r\n            level = 1;\r\n            this.scene.stop();\r\n\r\n        }, this);\r\n    }\r\n\r\n    update() {\r\n\r\n        // navrat do levelu\r\n        if (resume) {\r\n            if (level === 1) {\r\n                this.scene.resume(\"PlayScene\");\r\n            }\r\n           /* if (level === 2) {\r\n                this.scene.resume(\"Level2Scene\");\r\n            }\r\n            if (level === 3) {\r\n                this.scene.resume(\"Level3Scene\");\r\n            }\r\n            if (level === 4) {\r\n                this.scene.resume(\"Level4Scene\");\r\n            }*/\r\n            resume = false;\r\n            this.scene.stop();\r\n        }\r\n    }\r\n}","// inicializace promennych\r\nvar backsbutton;\r\nvar back = false;\r\nvar scoreText = [];\r\nvar nameText = [];\r\nvar scoreField = [];\r\nvar x;\r\nvar title;\r\n\r\n\r\nexport class LeaderBoardScene extends Phaser.Scene {\r\n    constructor() {\r\n        super({\r\n            key: \"LeaderBoardScene\",\r\n        })\r\n    }\r\n\r\n    preload() {\r\n        this.load.image(\"back\", \"./assets/Back2.png\");\r\n\r\n    }\r\n\r\n    create() {\r\n  \r\n        title = this.add.image(640, 100, 'title');\r\n        backsbutton = this.add.image(160, 850, 'back');\r\n        backsbutton.setInteractive();\r\n\r\n        backsbutton.on('pointerup', function (pointer) {\r\n            back = true;\r\n\r\n\r\n        });\r\n\r\n        // nacteni skore a pridani nove serazeneho skore do pameti browseru\r\n        \r\n        scoreField = JSON.parse(localStorage.getItem(\"score\"));\r\n      \r\n        for (var i = 0; i < 10; i++) {\r\n            scoreText.push(this.add.text(800, 198 + i * 65));\r\n            nameText.push(this.add.text(400, 198 + i * 65));\r\n\r\n        }\r\n        if (scoreField !== null && scoreField !== undefined) {\r\n            x = scoreField.length;\r\n            if (x > 10) {\r\n                x = 10;\r\n            }\r\n            for (var i = 0; i < 10; i++) {\r\n                if (i < x) {\r\n                    scoreText[i].setText(\" \" + scoreField[i].score);\r\n                    nameText[i].setText(i + 1 + \": \" + scoreField[i].playerName);\r\n                }\r\n                else {\r\n                    nameText[i].setText(i + 1 + \": \");\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < 10; i++) {\r\n\r\n                scoreText[i].setText(i + 1 + \": \");\r\n            }\r\n        }\r\n\r\n    }\r\n    update() {\r\n  \r\n        if (back) {\r\n            this.scene.start(\"MenuScene\");\r\n            back = false;\r\n            scoreText = [];\r\n            nameText = [];\r\n            scoreField = [];\r\n        }\r\n\r\n    }\r\n}","/** @type {import(\"../typings/phaser\")} */ // import typingu\r\n\r\nimport { MenuScene } from \"./scenes/MenuScene\"; // importy scen\r\nimport { PlayScene } from \"./scenes/PlayScene\"; // importy scen\r\nimport { PlayScene2 } from \"./scenes/PlayScene2\"; // importy scen\r\nimport { PauseScene } from \"./scenes/PauseScene\"; // importy scen\r\nimport { LeaderBoardScene} from \"./scenes/LeaderBoardScene\"; // importy scen\r\n\r\n// ohraniceni okna hry\r\nvar myCustomCanvas = document.createElement('canvas');\r\nmyCustomCanvas.id = 'myCustomCanvas';\r\n// myCustomCanvas.style = 'border: 4px solid black';\r\n\r\ndocument.body.appendChild(myCustomCanvas);\r\n// inicializace hry\r\nlet game = new Phaser.Game({\r\n    type: Phaser.AUTO,\r\n    width: 1280, // sirka okna\r\n    height: 896, // vyska okna\r\n    canvas: document.getElementById('myCustomCanvas'),\r\n    //seznam scen\r\n    scene: [\r\n        MenuScene, PlayScene, PauseScene, LeaderBoardScene, PlayScene2,\r\n\r\n    ],\r\n    audio: {\r\n        disableWebAudio: false\r\n    },\r\n    render: {\r\n        pixelArt: true\r\n    },\r\n    // nastaveni fyziky(gravitace, fps ...)\r\n    physics: {\r\n        default: \"arcade\",\r\n        arcade: {\r\n            fps: 60,\r\n            gravity: { y: 0 },\r\n        }\r\n    }\r\n});\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}